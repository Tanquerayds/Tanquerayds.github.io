{"meta":{"title":"老亚萨西了","subtitle":"","description":"oyoy","author":"John Doe","url":"http://tanquerayds.site","root":"/"},"pages":[{"title":"","date":"2022-08-18T10:03:38.090Z","updated":"2022-08-18T10:03:38.090Z","comments":false,"path":"categories/index.html","permalink":"http://tanquerayds.site/categories/index.html","excerpt":"","text":"layout: categoryindex: truetitle: 所有分类"},{"title":"","date":"2022-09-04T04:40:32.414Z","updated":"2022-09-04T04:40:32.413Z","comments":false,"path":"css/fold_code.css","permalink":"http://tanquerayds.site/css/fold_code.css","excerpt":"","text":".markdown-body .highlight table, .markdown-body .code-wrapper pre { border-radius: 0 0 0.5rem 0.5rem; } .markdown-body .highlight, .markdown-body .code-wrapper { background-color: #e6ebf1; border-radius: 0.625rem; } .markdown-body .highlight > i, .markdown-body .code-wrapper > i { color: #777; margin-left: 10px; line-height: 2rem; transform: none; transition: color 0.2s ease-in-out, transform 0.2s ease-in-out; } .markdown-body .highlight > i.collapsed, .markdown-body .code-wrapper > i.collapsed { transform: rotate(-90deg); } .markdown-body .highlight > span, .markdown-body .code-wrapper > span { color: #777; margin-left: 10px; font-weight: bold; } [data-user-color-scheme='dark'] .markdown-body .highlight, [data-user-color-scheme='dark'] .markdown-body .code-wrapper { background-color: #696969; transition: background-color 0.2s ease-in-out; } [data-user-color-scheme='dark'] .markdown-body .highlight > i, [data-user-color-scheme='dark'] .markdown-body .code-wrapper > i { color: #c4c6c9; } [data-user-color-scheme='dark'] .markdown-body .highlight > span, [data-user-color-scheme='dark'] .markdown-body .code-wrapper > span { color: #c4c6c9; transition: color 0.2s ease-in-out; }"},{"title":"","date":"2022-08-18T10:03:58.584Z","updated":"2022-08-18T10:03:58.584Z","comments":false,"path":"about/index.html","permalink":"http://tanquerayds.site/about/index.html","excerpt":"","text":""},{"title":"","date":"2022-08-18T10:03:19.548Z","updated":"2022-08-18T10:03:19.548Z","comments":false,"path":"tags/index.html","permalink":"http://tanquerayds.site/tags/index.html","excerpt":"","text":"layout: tagindex: truetitle: 所有标签"}],"posts":[{"title":"多用户即时通信系统","slug":"多用户通信系统","date":"2022-09-03T11:16:26.000Z","updated":"2022-09-05T05:35:37.095Z","comments":true,"path":"2022/09/03/多用户通信系统/","link":"","permalink":"http://tanquerayds.site/2022/09/03/%E5%A4%9A%E7%94%A8%E6%88%B7%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"为什么选择这个项目 有意思且涉及到各个方面的技术，还可以巩固基础学习新知识知识点包括： 项目框架设计 java面向对象编程 网络编程 多线程 IO流 Mysql&#x2F;（先用集合充当内存数据库） 多用户通信系统思路（第一版）和代码实现 通信结构分为客户端和服务端 服务端主要作为中转站，负责处理数据和管理线程池客户端作为用户可以通过服务器给其它用户发送消息和各类文件数据的传输主要采用对象流的方式，包括用户对象和消息数据包 一、 实现第一个功能，用户登录首先想到用户对象的创建，其次是消息数据包的创建，都作为对象数据流来传输。 1）用户这个类包括用户名&#x2F;id,用户密码 点击显/隐内容 java1234567891011121314151617181920212223242526public class User implements Serializable &#123; public static final long serialVersionUID = 1L; private String name;//用户名/id String passWord;//密码 public User(String name, String passWord) &#123; this.name = name; this.passWord = passWord; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getPassWord() &#123; return passWord; &#125; public void setPassWord(String passWord) &#123; this.passWord = passWord; &#125;&#125; 2）数据包这个类会包含数据类型，数据内容，发送者和接收者，最后还有发送时间 JAVA123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class Message implements Serializable &#123; public static final long serialVersionUID = 1L; private String content;//发送内容 private String dataType;//数据类型 private String sender;//发送者 private String receiver;//接收者 private String data;//日期，感觉可以用第三代日期类，后面再改 public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public String getDataType() &#123; return dataType; &#125; public void setDataType(String dataType) &#123; this.dataType = dataType; &#125; public String getSender() &#123; return sender; &#125; public void setSender(String sender) &#123; this.sender = sender; &#125; public String getReceiver() &#123; return receiver; &#125; public void setReceiver(String receiver) &#123; this.receiver = receiver; &#125; public String getData() &#123; return data; &#125; public void setData(String data) &#123; this.data = data; &#125;&#125; 3）为了管理数据包的数据类型，再创建个接口来管理 JAVA123456package az.qqServer;public interface MessageType &#123; //在接口中定义常量，表示不同的消息类型 String MESSAGE_LOGIN_SUCCEED = &quot;1&quot;; String MESSAGE_LOGIN_FAIL = &quot;2&quot;;&#125; 4)用户登录界面制作，先把逻辑打通再细写代码进入二级菜单 java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273/** * 客户端登入界面 **/public class qqView &#123; public static void main(String[] args) &#123; new qqView().mainView();//测试mainView方法 &#125; private static boolean loop = true;//菜单控制循环 private String key;//用户输入 public void mainView() &#123; while (loop) &#123; System.out.println(&quot;==========欢迎登录网络通信系统=========&quot;); System.out.println(&quot;\\t\\t1 登录系统&quot;); System.out.println(&quot;\\t\\t9 退出系统&quot;); System.out.println(&quot;请输入你的选择:&quot;); key = Utility.readString(1); //根据用户输入来执行操作 switch (key) &#123; case &quot;1&quot;: System.out.println(&quot;请输入你的用户名:&quot;); String userId = Utility.readString(50); System.out.println(&quot;请输入你的密码:&quot;); String passWord = Utility.readString(50); //这里需要到服务端验证是否合法，代码后续补，先通逻辑 if (true) &#123;//假如验证合法，则进入二级菜单 System.out.println(&quot;========欢迎用户&quot; + userId + &quot;===========&quot;); while (loop) &#123; System.out.println(&quot;==========网络通信系统二级菜单（&quot; + userId + &quot;）========&quot;); System.out.println(&quot;\\t\\t1 显示在线用户列表&quot;); System.out.println(&quot;\\t\\t2 群发消息&quot;); System.out.println(&quot;\\t\\t3 私发消息&quot;); System.out.println(&quot;\\t\\t4 发送文件&quot;); System.out.println(&quot;\\t\\t9 退出系统&quot;); System.out.println(&quot;请输入你的选择:&quot;); key = Utility.readString(1); switch (key) &#123; case &quot;1&quot;: System.out.println(&quot;显示在线用户列表&quot;); break; case &quot;2&quot;: System.out.println(&quot;群发消息&quot;); break; case &quot;3&quot;: System.out.println(&quot;私发消息&quot;); break; case &quot;4&quot;: System.out.println(&quot;发送文件&quot;); break; case &quot;9&quot;: System.out.println(&quot;退出系统&quot;); loop = false; break; &#125; &#125; &#125; else &#123; //验证不通过 System.out.println(&quot;========登录失败=======&quot;); break; &#125; break; case &quot;9&quot;: System.out.println(&quot;退出系统&quot;); loop = false; break; &#125; &#125; &#125;&#125;","categories":[],"tags":[]}],"categories":[],"tags":[]}